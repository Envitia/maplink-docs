<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MapLink Pro: TSLPathList Class Reference</title>
<link rel="icon" href="MapLink Pro 11 Logo Circle No Shadow FX New V1.1.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="envitia.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="MapLink Pro 11 Logo New V1.1.png"/></td>
  <td id="projectalign">
   <div id="projectname">MapLink Pro<span id="projectnumber">&#160;11.1.2.0.</span>
   </div>
   <div id="projectbrief">Envitia MapLink Pro: The Ultimate Mapping Application Toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>MapLink&#160;Pro</span></a></li>
      <li><a href="topics.html"><span>MapLink&#160;Pro&#160;C++&#160;API</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_t_s_l_path_list.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_t_s_l_path_list-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">TSLPathList Class Reference<div class="ingroups"><a class="el" href="group__apigroup__maplink__pro__developers__toolkit.html">MapLink Pro Developer Toolkit</a> &raquo; <a class="el" href="group__apigroup__api.html">Core API</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="class_t_s_l_path_list.html">TSLPathList</a> component is a general-purpose component that sets up a list of directories which may be searched for a given file.</p>
<p>May store local directories (on a hard disk, including network locations) and remote directories (via http, https, ftp or gopher).</p>
<p>This component is required for the <a class="el" href="class_t_s_l_map_data_layer.html">TSLMapDataLayer</a> so that it may find the individual tiles which constitute the map but it can also be used as a general purpose component outside the data layers.</p>
<p>A <a class="el" href="class_t_s_l_data_layer.html">TSLDataLayer</a> will maintain a reference on a <a class="el" href="class_t_s_l_path_list.html">TSLPathList</a> the user passed to it using the <a class="el" href="class_t_s_l_data_layer.html#ac2d9f8234df5031730501c6371e12d88">TSLDataLayer::addPathList()</a> method. The same <a class="el" href="class_t_s_l_path_list.html">TSLPathList</a> can be shared by more than one <a class="el" href="class_t_s_l_data_layer.html">TSLDataLayer</a> at the same time. Therefore the user should make sure the <a class="el" href="class_t_s_l_path_list.html">TSLPathList</a> created is not destroyed before the TSLDataLayers that point to it. You may reset to using the default pathlist by passing NULL, this is also true for the drawing surface pathlist.</p>
<p>In simple cases 'addDirectory' may be used, but with larger data structures addKeyedDirectory will make searching faster. 'addKeyedDirectory' must be used if a directory does not have default compression (see <a class="el" href="group__apigroup__api.html#gac7400c465e6a99a8b9c977bd00ccaedc">TSLMaplCompressionOption</a>).</p>
<p>If a callback is added to the constructor, then the application is given a chance to indicate where files are to be found. This is useful for large or complex directory structures.</p>
<p>A callback can not be set on a pathlist for a map data-layer if you are using flashback.</p>
<h2><a class="anchor" id="autotoc_md71"></a>
Threading Notes</h2>
<p><a class="el" href="class_t_s_l_path_list.html">TSLPathList</a> is not thread safe unless the application takes the following measures:</p>
<ol type="1">
<li>Do not use the callback.</li>
<li>If you are setting up a pathlist for the Drawing Surfaces to use; Set up the drawing surface pathlist object and add this to the drawing surface before your application starts using multiple threads.</li>
<li>If you need to change the drawing surface pathlist or modify it after your application has started its threads; Stop all threads outside of MapLink calls and do the necessary modifications.</li>
<li>If you are setting up a pathlist for data layers; Ideally use a separate pathlist per map data-layer (do not share cached layers between drawing surfaces in different threads). If you need to share the pathlist between map data-layers then only modify the pathlist when all threads using MapLink are stopped outside of MapLink method calls. </li>
</ol>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3672447ec329bb29a2cb3e2532b78fe6" id="r_a3672447ec329bb29a2cb3e2532b78fe6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3672447ec329bb29a2cb3e2532b78fe6">TSLPathList</a> (<a class="el" href="class_t_s_l_path_list_callback_class.html">TSLPathListCallbackClass</a> *callback=NULL, void *arg=NULL)</td></tr>
<tr class="separator:a3672447ec329bb29a2cb3e2532b78fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57fd01bb0b887f8123a3db5f55a91aa1" id="r_a57fd01bb0b887f8123a3db5f55a91aa1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57fd01bb0b887f8123a3db5f55a91aa1">~TSLPathList</a> ()</td></tr>
<tr class="separator:a57fd01bb0b887f8123a3db5f55a91aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeab027865f50e511f4575f3a64a92a1" id="r_adeab027865f50e511f4575f3a64a92a1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adeab027865f50e511f4575f3a64a92a1">addDirectory</a> (const char *dir_name, int location=-1)</td></tr>
<tr class="separator:adeab027865f50e511f4575f3a64a92a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82110c88e7ea020d5b2b63e3dbba36d3" id="r_a82110c88e7ea020d5b2b63e3dbba36d3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a82110c88e7ea020d5b2b63e3dbba36d3">addKeyedDirectory</a> (const char *name, const char *prefix, const char *extension, <a class="el" href="group__apigroup__api.html#gac7400c465e6a99a8b9c977bd00ccaedc">TSLMaplCompressionOption</a> compression=<a class="el" href="group__apigroup__api.html#ggac7400c465e6a99a8b9c977bd00ccaedca6bf5cc979a9bea228a16994a4bc21efd">TSLCompressedDefault</a>, int location=-1)</td></tr>
<tr class="separator:a82110c88e7ea020d5b2b63e3dbba36d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ae5b9d2eea14faddece326aaf9b7405" id="r_a6ae5b9d2eea14faddece326aaf9b7405"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6ae5b9d2eea14faddece326aaf9b7405">clear</a> ()</td></tr>
<tr class="separator:a6ae5b9d2eea14faddece326aaf9b7405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa27744c60c152e335ad73b0808eb6930" id="r_aa27744c60c152e335ad73b0808eb6930"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa27744c60c152e335ad73b0808eb6930">clearHistoryList</a> ()</td></tr>
<tr class="separator:aa27744c60c152e335ad73b0808eb6930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a839331ce94f615714d09a5485254995b" id="r_a839331ce94f615714d09a5485254995b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a839331ce94f615714d09a5485254995b">findFile</a> (const char *filename, <a class="el" href="class_t_s_l_simple_string.html">TSLSimpleString</a> &amp;fullPath)</td></tr>
<tr class="separator:a839331ce94f615714d09a5485254995b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b4751ee5e31cc22fb0d8c7eac9ca45d" id="r_a9b4751ee5e31cc22fb0d8c7eac9ca45d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b4751ee5e31cc22fb0d8c7eac9ca45d">getDirectoryName</a> (int location, <a class="el" href="class_t_s_l_simple_string.html">TSLSimpleString</a> &amp;directoryName)</td></tr>
<tr class="separator:a9b4751ee5e31cc22fb0d8c7eac9ca45d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04381a08b48aaaae5f8f84118c64a32d" id="r_a04381a08b48aaaae5f8f84118c64a32d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04381a08b48aaaae5f8f84118c64a32d">getKeyedDirectory</a> (int position, const char **name, <a class="el" href="group__apigroup__api.html#gac7400c465e6a99a8b9c977bd00ccaedc">TSLMaplCompressionOption</a> *compression=0, const char **prefix=0, const char **extension=0)</td></tr>
<tr class="separator:a04381a08b48aaaae5f8f84118c64a32d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44098bcad563ba22bc459cf2e5d0aac6" id="r_a44098bcad563ba22bc459cf2e5d0aac6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44098bcad563ba22bc459cf2e5d0aac6">getMatchingDirectoriesMT</a> (const char *filename, TSLIndex **matches, int *matchCount)</td></tr>
<tr class="separator:a44098bcad563ba22bc459cf2e5d0aac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a2a58c8e55d44b6bfab5b953c0f2d2" id="r_a17a2a58c8e55d44b6bfab5b953c0f2d2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a17a2a58c8e55d44b6bfab5b953c0f2d2">loadFromPathsFile</a> (const char *filename, <a class="el" href="class_t_s_l_file_loader.html">TSLFileLoader</a> *loader, const char *root=0)</td></tr>
<tr class="separator:a17a2a58c8e55d44b6bfab5b953c0f2d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c4b3c198ce1ee11c7d0f56babb02c51" id="r_a1c4b3c198ce1ee11c7d0f56babb02c51"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c4b3c198ce1ee11c7d0f56babb02c51">removeDirectory</a> (const char *dir_name)</td></tr>
<tr class="separator:a1c4b3c198ce1ee11c7d0f56babb02c51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31f503c3f22cdcde5929d5ac18cc911d" id="r_a31f503c3f22cdcde5929d5ac18cc911d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a31f503c3f22cdcde5929d5ac18cc911d">size</a> ()</td></tr>
<tr class="separator:a31f503c3f22cdcde5929d5ac18cc911d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e791ba04a9f35b060405f1869e7fef6" id="r_a0e791ba04a9f35b060405f1869e7fef6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e791ba04a9f35b060405f1869e7fef6">TSLPathList</a> (MaplPathList *path_list)</td></tr>
<tr class="separator:a0e791ba04a9f35b060405f1869e7fef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4f03c2a374e93e5ab465719e1f4f93aa" id="r_a4f03c2a374e93e5ab465719e1f4f93aa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f03c2a374e93e5ab465719e1f4f93aa">freeBuffer</a> (TSLIndex *buffer)</td></tr>
<tr class="separator:a4f03c2a374e93e5ab465719e1f4f93aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3672447ec329bb29a2cb3e2532b78fe6" name="a3672447ec329bb29a2cb3e2532b78fe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3672447ec329bb29a2cb3e2532b78fe6">&#9670;&#160;</a></span>TSLPathList() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSLPathList::TSLPathList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_s_l_path_list_callback_class.html">TSLPathListCallbackClass</a> *</td>          <td class="paramname"><span class="paramname"><em>callback</em></span><span class="paramdefsep"> = </span><span class="paramdefval">NULL</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>arg</em></span><span class="paramdefsep"> = </span><span class="paramdefval">NULL</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs a <a class="el" href="class_t_s_l_path_list.html">TSLPathList</a> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>The callback class to use during getMatchingDirectories. The callback indicates whether it knows where to find the given file and/or whether the pathlist entries should be used. See <a class="el" href="group__apigroup__api.html#gac4d62b969c7a3b6f9073d18b2bd8f71a">TSLPathlistCallbackReturn</a>.</td></tr>
  </table>
  </dd>
</dl>
<p>The callback is made in the main thread, not a loader worker thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>a user-defined value that will be passed to the callback routine.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>A callback can not be set on a pathlist for a map data-layer if you are using flashback. </dd></dl>

</div>
</div>
<a id="a57fd01bb0b887f8123a3db5f55a91aa1" name="a57fd01bb0b887f8123a3db5f55a91aa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57fd01bb0b887f8123a3db5f55a91aa1">&#9670;&#160;</a></span>~TSLPathList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSLPathList::~TSLPathList </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destructor for path list object. </p>

</div>
</div>
<a id="a0e791ba04a9f35b060405f1869e7fef6" name="a0e791ba04a9f35b060405f1869e7fef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e791ba04a9f35b060405f1869e7fef6">&#9670;&#160;</a></span>TSLPathList() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSLPathList::TSLPathList </td>
          <td>(</td>
          <td class="paramtype">MaplPathList *</td>          <td class="paramname"><span class="paramname"><em>path_list</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adeab027865f50e511f4575f3a64a92a1" name="adeab027865f50e511f4575f3a64a92a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeab027865f50e511f4575f3a64a92a1">&#9670;&#160;</a></span>addDirectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TSLPathList::addDirectory </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>dir_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>location</em></span><span class="paramdefsep"> = </span><span class="paramdefval">-1</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add directory to search list.</p>
<p>This method adds a new directory to the list of directories that will be examined when searching for a file. If the directory already exists in the list (with no keying) then it will be removed from its current position and placed at the given location. If the location is given as -1 the file will be added to the end of the list.</p>
<p>The compression is set to "default" (see <a class="el" href="group__apigroup__api.html#gac7400c465e6a99a8b9c977bd00ccaedc">TSLMaplCompressionOption</a>). Use addKeyedDirectory if compression is not default or if keying is to be used.</p>
<p>Note: the location of a directory within the list may change as other directories are added and removed from the list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir_name</td><td>Name of the directory to add to the list.</td></tr>
    <tr><td class="paramname">location</td><td>Location at which to add the directory name. -1 adds at the end of the list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the directory has been added successfully, false otherwise. </dd></dl>

</div>
</div>
<a id="a82110c88e7ea020d5b2b63e3dbba36d3" name="a82110c88e7ea020d5b2b63e3dbba36d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82110c88e7ea020d5b2b63e3dbba36d3">&#9670;&#160;</a></span>addKeyedDirectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TSLPathList::addKeyedDirectory </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>prefix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>extension</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__apigroup__api.html#gac7400c465e6a99a8b9c977bd00ccaedc">TSLMaplCompressionOption</a></td>          <td class="paramname"><span class="paramname"><em>compression</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="group__apigroup__api.html#ggac7400c465e6a99a8b9c977bd00ccaedca6bf5cc979a9bea228a16994a4bc21efd">TSLCompressedDefault</a></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>location</em></span><span class="paramdefsep"> = </span><span class="paramdefval">-1</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a specific directory to the pathlist.</p>
<p>Along with the directory is filtering information describing what files are to be found in that directory, to be used by getMatchingDirectories. The information consists of a prefix which the first part of a filename must match, and an extension which the filename extension must match.</p>
<p>getMatchingDirectory checks the given directory against these filters and returns all directories that match, see getMatchingDirectory for more information.</p>
<p>Associated with the directory is a flag that indicates whether the directory is compressed or uncompressed, or has default compression (see <a class="el" href="group__apigroup__api.html#gac7400c465e6a99a8b9c977bd00ccaedc">TSLMaplCompressionOption</a>).</p>
<p>If the directory already exists in the list with the same keying then it will be removed from its current position and placed at the given position. If it already exists but with different keying then it is simply added to the list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>full directory to add</td></tr>
    <tr><td class="paramname">prefix</td><td>Prefix which files in this directory have. The beginning of the filename is checked against this prefix by getMatchingDirectories. Case is ignored. May be null if no prefix check is required.</td></tr>
    <tr><td class="paramname">extension</td><td>Extension which files in this directory have. The filename extension is checked against this extension by getMatchingDirectories. Case is ignored. May be null if no prefix check is required. If an empty string is passed, filenames with no extension or ending in a dot are matched.</td></tr>
    <tr><td class="paramname">compression</td><td>Compression of the files in this directory.</td></tr>
    <tr><td class="paramname">location</td><td>Position where the directory is to be added in the search list. Zero is first in the list. The default value -1 adds to the end.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successful. </dd></dl>

</div>
</div>
<a id="a6ae5b9d2eea14faddece326aaf9b7405" name="a6ae5b9d2eea14faddece326aaf9b7405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ae5b9d2eea14faddece326aaf9b7405">&#9670;&#160;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TSLPathList::clear </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove all directories from search list.</p>
<p>This method clears the list of directories stored. It also clears the history list.</p>
<p>Returns true if the directories have been removed, false otherwise. </p>

</div>
</div>
<a id="aa27744c60c152e335ad73b0808eb6930" name="aa27744c60c152e335ad73b0808eb6930"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa27744c60c152e335ad73b0808eb6930">&#9670;&#160;</a></span>clearHistoryList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TSLPathList::clearHistoryList </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear history of previous searches.</p>
<p>To speed up the search for files, any file which has previously been found will be stored in a history list. It may be necessary to clear the history list if new directories are added or removed or the location of files has been changed by some external application.</p>
<p>Note that the history list is only used by findFile and therefore only for local directories, not remote directories.</p>
<p>Returns true if the history list has been cleared successfully, false otherwise. </p>

</div>
</div>
<a id="a839331ce94f615714d09a5485254995b" name="a839331ce94f615714d09a5485254995b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a839331ce94f615714d09a5485254995b">&#9670;&#160;</a></span>findFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TSLPathList::findFile </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_s_l_simple_string.html">TSLSimpleString</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>fullPath</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given the name of a file this method will search the directories in its list for the first one containing a file with that filename.</p>
<p>This method searches directories added with both addDirectory and addKeyedDirectory, but ignores the keying information.</p>
<p>After trying all paths in its list, the routine tries the local directory and also tries to find the file assuming that the filename is already fully qualified.</p>
<p>If the file is found, the routine returns a fully qualified path to the file. Otherwise it returns an empty string.</p>
<p>To increase speed, the function checks an internal list of previously found files, and if the filename is the same as one already found it returns the name previously found. If the file is not in the list, when it is found it is added to the list.</p>
<p>NOTE: Only works for local directories, not remote. There is no function for finding remote files, the FileLoader classes must be used for this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Name of the file to find.</td></tr>
    <tr><td class="paramname">fullPath</td><td>Variable to return the full path to the filename if the file was found otherwise this is set to an empty string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the method succeeds, false otherwise. </dd></dl>

</div>
</div>
<a id="a4f03c2a374e93e5ab465719e1f4f93aa" name="a4f03c2a374e93e5ab465719e1f4f93aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f03c2a374e93e5ab465719e1f4f93aa">&#9670;&#160;</a></span>freeBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void TSLPathList::freeBuffer </td>
          <td>(</td>
          <td class="paramtype">TSLIndex *</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Used to free the buffer allocated and provided to the user through the getMatchingDirectoriesMT method,</p>
<p>Argument List Description:</p>
<p>buffer: The buffer allocated and provided to the user through the getMatchingDirectoriesMT method, </p>

</div>
</div>
<a id="a9b4751ee5e31cc22fb0d8c7eac9ca45d" name="a9b4751ee5e31cc22fb0d8c7eac9ca45d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b4751ee5e31cc22fb0d8c7eac9ca45d">&#9670;&#160;</a></span>getDirectoryName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TSLPathList::getDirectoryName </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>location</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_s_l_simple_string.html">TSLSimpleString</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>directoryName</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Query name of the directory at the requested location.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>Location in the list of directories for which to obtain the directory name.</td></tr>
    <tr><td class="paramname">directoryName</td><td>the name of the directory at the given list location, or empty if there is no directory at the given location.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the method succeeds, false otherwise. </dd></dl>

</div>
</div>
<a id="a04381a08b48aaaae5f8f84118c64a32d" name="a04381a08b48aaaae5f8f84118c64a32d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04381a08b48aaaae5f8f84118c64a32d">&#9670;&#160;</a></span>getKeyedDirectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TSLPathList::getKeyedDirectory </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>position</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__apigroup__api.html#gac7400c465e6a99a8b9c977bd00ccaedc">TSLMaplCompressionOption</a> *</td>          <td class="paramname"><span class="paramname"><em>compression</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **</td>          <td class="paramname"><span class="paramname"><em>prefix</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **</td>          <td class="paramname"><span class="paramname"><em>extension</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the name of the directory at the given list location. Can also return the compression setting and prefix and extension settings for the location found.</p>
<p>The string pointers returned are temporary and should not be stored.</p>
<p>See also getMatchingDirectories.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">position</td><td>Location in list from which to retrieve the information.</td></tr>
    <tr><td class="paramname">name</td><td>Returns the directory name.</td></tr>
    <tr><td class="paramname">prefix</td><td>Returns the prefix (may be null)</td></tr>
    <tr><td class="paramname">extension</td><td>Returns the extension (may be null)</td></tr>
    <tr><td class="paramname">compression</td><td>Returns the compression.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if the given position is invalid. </dd></dl>

</div>
</div>
<a id="a44098bcad563ba22bc459cf2e5d0aac6" name="a44098bcad563ba22bc459cf2e5d0aac6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44098bcad563ba22bc459cf2e5d0aac6">&#9670;&#160;</a></span>getMatchingDirectoriesMT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TSLPathList::getMatchingDirectoriesMT </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TSLIndex **</td>          <td class="paramname"><span class="paramname"><em>matches</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>matchCount</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Thread-safe variant of the now deprecated getMatchingDirectories method.</p>
<p>Searches the list of directories for directories whose keying information (recorded with addKeyedDirectory) can match the given filename.</p>
<p>Does not use a cache list like findFile does.</p>
<p>If both prefix and extension are recorded for a directory then both must match the given filename. If either is null then all filenames match that filter.</p>
<p>If the extension stored is an empty string then it will match all filenames that have no extension or end in a dot e.g. "filename" and "filename.".</p>
<p>Returns a list of the indices of the matching directories, which will include all non-keyed directories (since these have no keying and so match everything).</p>
<p>Pass in the address of a pointer in the matches parameter, which on return will point to a list of indices of directories found. The number of directories in the list will be returned in matchCount.</p>
<p>If a callback was added to the constructor, the callback is called by this routine. The callback can control the other entries returned by the call, see the <a class="el" href="group__apigroup__api.html#gac4d62b969c7a3b6f9073d18b2bd8f71a">TSLPathlistCallbackReturn</a> enum. If the callback returns a directory, the list of indices returned from this routine will include a special value that means "use the value returned by the last callback" when passed to getKeyedDirectory or getDirectoryName.</p>
<p>Does not return the local directory - if all directories returned fail to contain the file, the caller may wish to try the local directory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>File to search for.</td></tr>
    <tr><td class="paramname">matches</td><td>Returns a pointer to the list of directories found. This array is owned by the user and should be deleted using the <a class="el" href="#a4f03c2a374e93e5ab465719e1f4f93aa">TSLPathList::freeBuffer</a> method when it has been finished with.</td></tr>
    <tr><td class="paramname">matchCount</td><td>Returns the number of directories found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successful. Note that the only time false will be returned is if a callback was made to the application and the application indicated that the given file will definitely not exist. In these circumstances the file should not be looked for, even in the local directory. </dd></dl>

</div>
</div>
<a id="a17a2a58c8e55d44b6bfab5b953c0f2d2" name="a17a2a58c8e55d44b6bfab5b953c0f2d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17a2a58c8e55d44b6bfab5b953c0f2d2">&#9670;&#160;</a></span>loadFromPathsFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TSLPathList::loadFromPathsFile </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_s_l_file_loader.html">TSLFileLoader</a> *</td>          <td class="paramname"><span class="paramname"><em>loader</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>root</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Append to the pathlist by reading keyed paths from a file. If any of the paths in the file are relative then a root directory must be passed to the routine; if all are absolute then no root directory is needed.</p>
<p>The file contains keyed paths - see addKeyedDirectory for more explanation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>absolute filename from which to load the pathlist</td></tr>
    <tr><td class="paramname">loader</td><td>file loader to use to load the file. Could be obtained by calling getLoader on a drawing surface or a data layer, or by instantiating a loader.</td></tr>
    <tr><td class="paramname">root</td><td>root path to be prefixed to any relative paths included in the file.</td></tr>
  </table>
  </dd>
</dl>
<p>The format of the file is as follows: </p><div class="fragment"><div class="line">TSLPTH  - header confirming that <span class="keyword">this</span> is the right sort of file</div>
<div class="line">100     - version number of format</div>
<div class="line">2       - number of paths in file</div>
<div class="line">        - blank line before each path</div>
<div class="line">ABS     - <span class="keyword">this</span> is an absolute (fully qualified) path - ABS or REL</div>
<div class="line">d/temp;   - the absolute path followed by semicolon</div>
<div class="line">layer1;   - prefix followed by semicolon (semicolon only  <span class="keywordflow">if</span> none)</div>
<div class="line">dat;      - extension followed by semicolon (<span class="stringliteral">&quot;;&quot;</span> means <span class="stringliteral">&quot;any file&quot;</span>.  <span class="stringliteral">&quot;.;&quot;</span> means <span class="stringliteral">&quot;any file with no extension&quot;</span>.)</div>
<div class="line">DFLT      - directory compression YES, NO or DFLT</div>
<div class="line">          - blank line before each path</div>
<div class="line">REL       - <span class="keyword">this</span> is a relative path; appended to the root parameter passed to the routine (error <span class="keywordflow">if</span> none passed) - ABS or REL</div>
<div class="line">temp;     - the relative path followed by semicolon.  If root directory then just a semicolon.</div>
<div class="line">layer2;   - prefix followed by semicolon (semicolon only  <span class="keywordflow">if</span> none)</div>
<div class="line">.;        - extension followed by semicolon (<span class="stringliteral">&quot;;&quot;</span> means <span class="stringliteral">&quot;any file&quot;</span>.  <span class="stringliteral">&quot;.;&quot;</span> means <span class="stringliteral">&quot;any file with no extension&quot;</span>.)</div>
<div class="line">YES       - directory compression YES, NO or DFLT.</div>
</div><!-- fragment --> 
</div>
</div>
<a id="a1c4b3c198ce1ee11c7d0f56babb02c51" name="a1c4b3c198ce1ee11c7d0f56babb02c51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c4b3c198ce1ee11c7d0f56babb02c51">&#9670;&#160;</a></span>removeDirectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TSLPathList::removeDirectory </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>dir_name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method removed the specified directory from the list of directories that will be examined when searching for a file. All instances of the directory are removed (there may be several, with different keying).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir_name</td><td>Name of the directory to remove.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the directory has been removed, false otherwise. </dd></dl>

</div>
</div>
<a id="a31f503c3f22cdcde5929d5ac18cc911d" name="a31f503c3f22cdcde5929d5ac18cc911d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31f503c3f22cdcde5929d5ac18cc911d">&#9670;&#160;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TSLPathList::size </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Query number of directory names in the path list.</p>
<p>Returns number of directories, -1 on error. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_t_s_l_path_list.html">TSLPathList</a></li>
    <li class="footer"><a href="https://envitia.github.io/maplink-docs/">MapLink Pro</a> 11.1.2.0. | Documentation created Mon May 12 2025 | Generated with <a href="http://www.doxygen.org/index.html">Doxygen 1.13.2</a> | <a href="mailto:support@envitia.com">Contact Us</a> | &copy; 2025 <a href="http://www.envitia.com">Envitia Ltd.</a></li>
  </ul>
</div>
</body>
</html>
