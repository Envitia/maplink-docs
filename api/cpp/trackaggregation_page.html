<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <!--
     _______ .__   __. ____    ____  __  .___________. __       ___
    |   ____||  \ |  | \   \  /   / |  | |           ||  |     /   \
    |  |__   |   \|  |  \   \/   /  |  | `---|  |----`|  |    /  ^  \
    |   __|  |  . `  |   \      /   |  |     |  |     |  |   /  /_\  \
    |  |____ |  |\   |    \    /    |  |     |  |     |  |  /  _____  \
    |_______||__| \__|     \__/     |__|     |__|     |__| /__/     \__\
        Hello! If you like to read source code to see what's going on
        then you might like to know we're recruiting people just like you.
        Check out https://www.envitia.com/about/culture-careers/ and get
        in touch at careers@envitia.com. Mention you saw this and you'll
        have our immediate attention.
        -->
    <script type="text/javascript">
        console.log('Like to look at the Developer Console? So do we! We\'re recruiting! Check out https://www.envitia.com/about/culture-careers/ and mention you saw this.');
    </script>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css" />
    <link rel="icon" href="envitia_emb_transparentbg.png">
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta name="generator" content="Doxygen 1.9.8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MapLink Pro: Track Aggregation</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-light_green.min.css" />
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="envitia.css" rel="stylesheet" type="text/css"/>
</head>
<body>
        <div id="top">
            <!-- do not remove this div, it is closed by doxygen! -->
            <div id="titlearea">
                <table cellspacing="0" cellpadding="0" width="100%">
                    <tbody>
                        <tr style="height: 56px;">
                            <td id="projectlogo" align="center"><a href="http://www.maplinkpro.com"><img alt="Envitia MapLink Pro" src="maplinkpro.png" /></a></td>
                        </tr>
                        <tr id="projectrow">
                        </tr>
                    </tbody>
                </table>
            </div>
            <!-- end header part --><!-- Generated by Doxygen 1.9.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="trackmanagerdeveloperguide_page.html">Tracks SDK Developer Guide</a></li>  </ul>
</div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Track Aggregation</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#trackaggregation_trackgroups">Track Groups</a></li>
<li class="level1"><a href="#trackaggregation_configuration">Aggregator Configuration</a></li>
<li class="level1"><a href="#trackaggregation_with_graphics">Interaction with track graphics</a></li>
</ul>
</div>
<div class="textblock"><p>Track Aggregation provides a method of reducing the amount of tracks on the display based on static or dynamic rules. This is similar to the 'decluttering' concepts used elsewhere in MapLink however the rules for aggregation are evaluated at draw-time, allowing for more dynamic functionality.</p>
<p>This is provided through the  <a class="el" href="class_t_s_l_track_aggregator.html">Track Aggregator</a>  class.</p>
<div class="image">
<img src="aggexample.png" alt=""/>
<div class="caption">
Aggregated tracks displayed on a map, at various zoom levels</div></div>
<h1><a class="anchor" id="trackaggregation_trackgroups"></a>
Track Groups</h1>
<p>A  <a class="el" href="class_t_s_l_track_group.html">Track Group</a>  provides the ability to create a conceptual hierarchy of tracks which represents real-world structures. This class also provides the ability to assign a visualisation to the group in the same manner as tracks. This class is used by track aggregators to provide both:</p><ul>
<li>A hierarchy of tracks, if required by the aggregator</li>
<li>The visualisation to use for a group of tracks</li>
</ul>
<h1><a class="anchor" id="trackaggregation_configuration"></a>
Aggregator Configuration</h1>
<p>Each aggregator implementation can use different parameters to declutter the tracks. These may include:</p><ul>
<li>The resolution/zoom level of the drawing surface at the time tracks are drawn</li>
<li>A hierarchy of tracks/track groups specified by the application</li>
<li>Whether tracks are positioned close to each other on the display</li>
<li>Attributes from the tracks</li>
<li>Other information required for the aggregator's algorithm</li>
</ul>
<p>These parameters will change based on the implementation of the aggregator, however will typically involve a set of aggregator 'rules', which are primarily indexed based on the drawing surface zoom level.</p>
<p>This example demonstrates the basic setup of echelon-based aggregation. This is used to perform track aggregation based on the real-world relationship between the tracks.</p>
<div class="fragment"><div class="line"><span class="comment">// This aggregator requires that each track has a defined &#39;type&#39; attribute</span></div>
<div class="line"><span class="comment">// in order to group the tracks together on the display. This custom attribute</span></div>
<div class="line"><span class="comment">// may be setup using TSLTrackBase::addAttribute and TSLTrackBase::setAttributeValue</span></div>
<div class="line"><span class="comment">// The track manager has been setup to contain 4 tracks:</span></div>
<div class="line"><span class="comment">// - Track 1: type == &quot;person&quot;</span></div>
<div class="line"><span class="comment">// - Track 2: type == &quot;person&quot;</span></div>
<div class="line"><span class="comment">// - Track 3: type == &quot;car&quot;</span></div>
<div class="line"><span class="comment">// - Track 4: type == &quot;aircraft&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create the aggregator</span></div>
<div class="line"><span class="comment">// This aggregator will use the &#39;type&#39; attribute from the tracks</span></div>
<div class="line"><span class="comment">// to perform aggregation.</span></div>
<div class="line"><a class="code hl_class" href="class_t_s_l_track_aggregator_density.html">TSLTrackAggregatorDensity</a>* agg = <span class="keyword">new</span> <a class="code hl_class" href="class_t_s_l_track_aggregator_density.html">TSLTrackAggregatorDensity</a>(<span class="stringliteral">&quot;type&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Assign the aggregator to the tracks</span></div>
<div class="line"><span class="comment">// In this case we only need to add the aggregator to tracks 1 &amp; 2</span></div>
<div class="line"><span class="comment">// however the aggregator may also be assigned to every track</span></div>
<div class="line"><span class="comment">// If there is no aggregator rule which matches the specified tracks</span></div>
<div class="line"><span class="comment">// then the tracks will be drawn as normal.</span></div>
<div class="line">track1-&gt;aggregator(agg);</div>
<div class="line">track2-&gt;aggregator(agg);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Setup a TSLTrackGroup, which specifies how a group of &quot;person&quot;</span></div>
<div class="line"><span class="comment">// tracks should be displayed.</span></div>
<div class="line"><span class="comment">// For the density aggregator the group does not need to have any</span></div>
<div class="line"><span class="comment">// children.</span></div>
<div class="line"><a class="code hl_class" href="class_t_s_l_track_group.html">TSLTrackGroup</a>* personGroup = <a class="code hl_function" href="class_t_s_l_track_group.html#a515b384d406914a4aac369c824f6b467">TSLTrackGroup::create</a>();</div>
<div class="line">setupRenderingForPersonGroup( personGroup );</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Setup a rule for the aggregator</span></div>
<div class="line"><span class="comment">// - This rule will be activated when the display resolution (Map Units per Pixel)</span></div>
<div class="line"><span class="comment">//   is above the threshold</span></div>
<div class="line"><span class="comment">// - This rule will use a 10 x 10 grid as part of the calculation</span></div>
<div class="line"><span class="comment">// - This rule will only activate for tracks with type == &quot;person&quot;</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// If 2 or more tracks with type == &quot;person&quot; are drawn within the same grid cell, and the</span></div>
<div class="line"><span class="comment">// display has been zoomed out far enough to activate the rule, then </span></div>
<div class="line"><span class="comment">// the personGroup will be displayed instead of the individual tracks.</span></div>
<div class="line"><a class="code hl_struct" href="struct_t_s_l_track_aggregator_density_1_1_zoom_level.html">TSLTrackAggregatorDensity::ZoomLevel</a>* zoomLevel = agg-&gt;<a class="code hl_function" href="class_t_s_l_track_aggregator_density.html#a56add9372855c0ce5cd4df2d8f655b87">addZoomLevel</a>( 100.0, 10, 10 );</div>
<div class="line">zoomLevel-&gt;<a class="code hl_function" href="struct_t_s_l_track_aggregator_density_1_1_zoom_level.html#a1988980f1b6bda9f953982ed5a10f89c">addRule</a>( <a class="code hl_struct" href="struct_t_s_l_track_aggregator_density_1_1_aggregation_rule.html">TSLTrackAggregatorDensity::AggregationRule</a>(<span class="stringliteral">&quot;person&quot;</span>, 2, personGroup));</div>
<div class="ttc" id="aclass_t_s_l_track_aggregator_density_html"><div class="ttname"><a href="class_t_s_l_track_aggregator_density.html">TSLTrackAggregatorDensity</a></div><div class="ttdef"><b>Definition</b> tsltrackaggregatordensity.h:36</div></div>
<div class="ttc" id="aclass_t_s_l_track_aggregator_density_html_a56add9372855c0ce5cd4df2d8f655b87"><div class="ttname"><a href="class_t_s_l_track_aggregator_density.html#a56add9372855c0ce5cd4df2d8f655b87">TSLTrackAggregatorDensity::addZoomLevel</a></div><div class="ttdeci">ZoomLevel * addZoomLevel(double triggerLevel, uint32_t gridX, uint32_t gridY)</div></div>
<div class="ttc" id="aclass_t_s_l_track_group_html"><div class="ttname"><a href="class_t_s_l_track_group.html">TSLTrackGroup</a></div><div class="ttdef"><b>Definition</b> tsltrackgroup.h:30</div></div>
<div class="ttc" id="aclass_t_s_l_track_group_html_a515b384d406914a4aac369c824f6b467"><div class="ttname"><a href="class_t_s_l_track_group.html#a515b384d406914a4aac369c824f6b467">TSLTrackGroup::create</a></div><div class="ttdeci">static TSLTrackGroup * create()</div></div>
<div class="ttc" id="astruct_t_s_l_track_aggregator_density_1_1_aggregation_rule_html"><div class="ttname"><a href="struct_t_s_l_track_aggregator_density_1_1_aggregation_rule.html">TSLTrackAggregatorDensity::AggregationRule</a></div><div class="ttdef"><b>Definition</b> tsltrackaggregatordensity.h:49</div></div>
<div class="ttc" id="astruct_t_s_l_track_aggregator_density_1_1_zoom_level_html"><div class="ttname"><a href="struct_t_s_l_track_aggregator_density_1_1_zoom_level.html">TSLTrackAggregatorDensity::ZoomLevel</a></div><div class="ttdef"><b>Definition</b> tsltrackaggregatordensity.h:94</div></div>
<div class="ttc" id="astruct_t_s_l_track_aggregator_density_1_1_zoom_level_html_a1988980f1b6bda9f953982ed5a10f89c"><div class="ttname"><a href="struct_t_s_l_track_aggregator_density_1_1_zoom_level.html#a1988980f1b6bda9f953982ed5a10f89c">TSLTrackAggregatorDensity::ZoomLevel::addRule</a></div><div class="ttdeci">void addRule(const AggregationRule &amp;rule)</div></div>
</div><!-- fragment --> <h1><a class="anchor" id="trackaggregation_with_graphics"></a>
Interaction with track graphics</h1>
<p>When used in conjunction with <a class="el" href="trackgraphics_page.html">Track Graphics</a> any track which is used as a control point for a graphic will be excluded from aggregation.</p>
<p>This means that the aggregated track group will be displayed, in addition to the track itself in this situation. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
        <hr class="footer" />
        <address class="footer">
            <p />
            <small>
                <a href="http://www.maplinkpro.com">MapLink Pro</a> $maplinkVersionMajor.$maplinkVersionMinor..&nbsp;<img src="tab_a.png" height="24" />&nbsp;Documentation created Mon Aug 12 2024 14:47:23&nbsp;<img src="tab_a.png" height="24" />&nbsp;Generated with <a href="http://www.doxygen.org/index.html">Doxygen 1.9.8</a>&nbsp;<img src="tab_a.png" height="24" />&nbsp;<a href="mailto:support@envitia.com">Contact Us</a>&nbsp;<img src="tab_a.png" height="24" />&nbsp;&copy; 2024<a href="http://www.envitia.com"><img alt="Envitia Group PLC." src="envitia.png" /></a>
            </small>
        </address>
    </body>
</html>
