<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MapLink Pro: Track Aggregation</title>
<link rel="icon" href="MapLink Pro 11 Logo Circle No Shadow FX New V1.1.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="envitia.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="MapLink Pro 11 Logo New V1.1.png"/></td>
  <td id="projectalign">
   <div id="projectname">MapLink Pro<span id="projectnumber">&#160;11.2</span>
   </div>
   <div id="projectbrief">Envitia MapLink Pro: The Ultimate Mapping Application Toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>MapLink&#160;Pro</span></a></li>
      <li><a href="topics.html"><span>MapLink&#160;Pro&#160;C++&#160;API</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('trackaggregation_page.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Track Aggregation</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1">
    <a href="#trackaggregation_trackgroups">Track Groups</a>
  </li>
  <li class="level1">
    <a href="#trackaggregation_configuration">Aggregator Configuration</a>
  </li>
  <li class="level1">
    <a href="#trackaggregation_with_graphics">Interaction with track graphics</a>
  </li>
</ul>
</div>
<div class="textblock"><p>Track Aggregation provides a method of reducing the amount of tracks on the display based on static or dynamic rules. This is similar to the 'decluttering' concepts used elsewhere in MapLink however the rules for aggregation are evaluated at draw-time, allowing for more dynamic functionality.</p>
<p>This is provided through the  <a class="el" href="class_t_s_l_track_aggregator.html">Track Aggregator</a>  class.</p>
<div class="image">
<img src="aggexample.png" alt=""/>
<div class="caption">
Aggregated tracks displayed on a map, at various zoom levels</div></div>
<h1><a class="anchor" id="trackaggregation_trackgroups"></a>
Track Groups</h1>
<p>A  <a class="el" href="class_t_s_l_track_group.html">Track Group</a>  provides the ability to create a conceptual hierarchy of tracks which represents real-world structures. This class also provides the ability to assign a visualisation to the group in the same manner as tracks. This class is used by track aggregators to provide both:</p><ul>
<li>A hierarchy of tracks, if required by the aggregator</li>
<li>The visualisation to use for a group of tracks</li>
</ul>
<h1><a class="anchor" id="trackaggregation_configuration"></a>
Aggregator Configuration</h1>
<p>Each aggregator implementation can use different parameters to declutter the tracks. These may include:</p><ul>
<li>The resolution/zoom level of the drawing surface at the time tracks are drawn</li>
<li>A hierarchy of tracks/track groups specified by the application</li>
<li>Whether tracks are positioned close to each other on the display</li>
<li>Attributes from the tracks</li>
<li>Other information required for the aggregator's algorithm</li>
</ul>
<p>These parameters will change based on the implementation of the aggregator, however will typically involve a set of aggregator 'rules', which are primarily indexed based on the drawing surface zoom level.</p>
<p>This example demonstrates the basic setup of echelon-based aggregation. This is used to perform track aggregation based on the real-world relationship between the tracks.</p>
<div class="fragment"><div class="line"><span class="comment">// This aggregator requires that each track has a defined &#39;type&#39; attribute</span></div>
<div class="line"><span class="comment">// in order to group the tracks together on the display. This custom attribute</span></div>
<div class="line"><span class="comment">// may be setup using TSLTrackBase::addAttribute and TSLTrackBase::setAttributeValue</span></div>
<div class="line"><span class="comment">// The track manager has been setup to contain 4 tracks:</span></div>
<div class="line"><span class="comment">// - Track 1: type == &quot;person&quot;</span></div>
<div class="line"><span class="comment">// - Track 2: type == &quot;person&quot;</span></div>
<div class="line"><span class="comment">// - Track 3: type == &quot;car&quot;</span></div>
<div class="line"><span class="comment">// - Track 4: type == &quot;aircraft&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create the aggregator</span></div>
<div class="line"><span class="comment">// This aggregator will use the &#39;type&#39; attribute from the tracks</span></div>
<div class="line"><span class="comment">// to perform aggregation.</span></div>
<div class="line"><a class="code hl_class" href="class_t_s_l_track_aggregator_density.html">TSLTrackAggregatorDensity</a>* agg = <span class="keyword">new</span> <a class="code hl_class" href="class_t_s_l_track_aggregator_density.html">TSLTrackAggregatorDensity</a>(<span class="stringliteral">&quot;type&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Assign the aggregator to the tracks</span></div>
<div class="line"><span class="comment">// In this case we only need to add the aggregator to tracks 1 &amp; 2</span></div>
<div class="line"><span class="comment">// however the aggregator may also be assigned to every track</span></div>
<div class="line"><span class="comment">// If there is no aggregator rule which matches the specified tracks</span></div>
<div class="line"><span class="comment">// then the tracks will be drawn as normal.</span></div>
<div class="line">track1-&gt;aggregator(agg);</div>
<div class="line">track2-&gt;aggregator(agg);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Setup a TSLTrackGroup, which specifies how a group of &quot;person&quot;</span></div>
<div class="line"><span class="comment">// tracks should be displayed.</span></div>
<div class="line"><span class="comment">// For the density aggregator the group does not need to have any</span></div>
<div class="line"><span class="comment">// children.</span></div>
<div class="line"><a class="code hl_class" href="class_t_s_l_track_group.html">TSLTrackGroup</a>* personGroup = <a class="code hl_function" href="class_t_s_l_track_group.html#a515b384d406914a4aac369c824f6b467">TSLTrackGroup::create</a>();</div>
<div class="line">setupRenderingForPersonGroup( personGroup );</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Setup a rule for the aggregator</span></div>
<div class="line"><span class="comment">// - This rule will be activated when the display resolution (Map Units per Pixel)</span></div>
<div class="line"><span class="comment">//   is above the threshold</span></div>
<div class="line"><span class="comment">// - This rule will use a 10 x 10 grid as part of the calculation</span></div>
<div class="line"><span class="comment">// - This rule will only activate for tracks with type == &quot;person&quot;</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// If 2 or more tracks with type == &quot;person&quot; are drawn within the same grid cell, and the</span></div>
<div class="line"><span class="comment">// display has been zoomed out far enough to activate the rule, then </span></div>
<div class="line"><span class="comment">// the personGroup will be displayed instead of the individual tracks.</span></div>
<div class="line"><a class="code hl_struct" href="struct_t_s_l_track_aggregator_density_1_1_zoom_level.html">TSLTrackAggregatorDensity::ZoomLevel</a>* zoomLevel = agg-&gt;<a class="code hl_function" href="class_t_s_l_track_aggregator_density.html#a56add9372855c0ce5cd4df2d8f655b87">addZoomLevel</a>( 100.0, 10, 10 );</div>
<div class="line">zoomLevel-&gt;<a class="code hl_function" href="struct_t_s_l_track_aggregator_density_1_1_zoom_level.html#a1988980f1b6bda9f953982ed5a10f89c">addRule</a>( <a class="code hl_struct" href="struct_t_s_l_track_aggregator_density_1_1_aggregation_rule.html">TSLTrackAggregatorDensity::AggregationRule</a>(<span class="stringliteral">&quot;person&quot;</span>, 2, personGroup));</div>
<div class="ttc" id="aclass_t_s_l_track_aggregator_density_html"><div class="ttname"><a href="class_t_s_l_track_aggregator_density.html">TSLTrackAggregatorDensity</a></div><div class="ttdef"><b>Definition</b> tsltrackaggregatordensity.h:36</div></div>
<div class="ttc" id="aclass_t_s_l_track_aggregator_density_html_a56add9372855c0ce5cd4df2d8f655b87"><div class="ttname"><a href="class_t_s_l_track_aggregator_density.html#a56add9372855c0ce5cd4df2d8f655b87">TSLTrackAggregatorDensity::addZoomLevel</a></div><div class="ttdeci">ZoomLevel * addZoomLevel(double triggerLevel, uint32_t gridX, uint32_t gridY)</div></div>
<div class="ttc" id="aclass_t_s_l_track_group_html"><div class="ttname"><a href="class_t_s_l_track_group.html">TSLTrackGroup</a></div><div class="ttdef"><b>Definition</b> tsltrackgroup.h:30</div></div>
<div class="ttc" id="aclass_t_s_l_track_group_html_a515b384d406914a4aac369c824f6b467"><div class="ttname"><a href="class_t_s_l_track_group.html#a515b384d406914a4aac369c824f6b467">TSLTrackGroup::create</a></div><div class="ttdeci">static TSLTrackGroup * create()</div></div>
<div class="ttc" id="astruct_t_s_l_track_aggregator_density_1_1_aggregation_rule_html"><div class="ttname"><a href="struct_t_s_l_track_aggregator_density_1_1_aggregation_rule.html">TSLTrackAggregatorDensity::AggregationRule</a></div><div class="ttdef"><b>Definition</b> tsltrackaggregatordensity.h:49</div></div>
<div class="ttc" id="astruct_t_s_l_track_aggregator_density_1_1_zoom_level_html"><div class="ttname"><a href="struct_t_s_l_track_aggregator_density_1_1_zoom_level.html">TSLTrackAggregatorDensity::ZoomLevel</a></div><div class="ttdef"><b>Definition</b> tsltrackaggregatordensity.h:94</div></div>
<div class="ttc" id="astruct_t_s_l_track_aggregator_density_1_1_zoom_level_html_a1988980f1b6bda9f953982ed5a10f89c"><div class="ttname"><a href="struct_t_s_l_track_aggregator_density_1_1_zoom_level.html#a1988980f1b6bda9f953982ed5a10f89c">TSLTrackAggregatorDensity::ZoomLevel::addRule</a></div><div class="ttdeci">void addRule(const AggregationRule &amp;rule)</div></div>
</div><!-- fragment --> <h1><a class="anchor" id="trackaggregation_with_graphics"></a>
Interaction with track graphics</h1>
<p>When used in conjunction with <a class="el" href="trackgraphics_page.html">Track Graphics</a> any track which is used as a control point for a graphic will be excluded from aggregation.</p>
<p>This means that the aggregated track group will be displayed, in addition to the track itself in this situation. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="trackmanagerdeveloperguide_page.html">Tracks SDK Developer Guide</a></li>
    <li class="footer"><a href="https://envitia.github.io/maplink-docs/">MapLink Pro</a> 11.2 | Documentation created Mon Aug 4 2025 17:31:46 | Generated with <a href="http://www.doxygen.org/index.html">Doxygen 1.13.2</a> | <a href="mailto:support@envitia.com">Contact Us</a> | &copy; 2025 <a href="http://www.envitia.com">Envitia Ltd.</a></li>
  </ul>
</div>
</body>
</html>
