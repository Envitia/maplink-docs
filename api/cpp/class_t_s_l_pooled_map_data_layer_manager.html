<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MapLink Pro: TSLPooledMapDataLayerManager Class Reference</title>
<link rel="icon" href="MapLink Pro 11 Logo Circle No Shadow FX New V1.1.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="envitia.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="MapLink Pro 11 Logo New V1.1.png"/></td>
  <td id="projectalign">
   <div id="projectname">MapLink Pro<span id="projectnumber">&#160;11.2</span>
   </div>
   <div id="projectbrief">Envitia MapLink Pro: The Ultimate Mapping Application Toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>MapLink&#160;Pro</span></a></li>
      <li><a href="topics.html"><span>MapLink&#160;Pro&#160;C++&#160;API</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_t_s_l_pooled_map_data_layer_manager.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_t_s_l_pooled_map_data_layer_manager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">TSLPooledMapDataLayerManager Class Reference<div class="ingroups"><a class="el" href="group__apigroup__maplink__pro__developers__toolkit.html">MapLink Pro Developer Toolkit</a> &raquo; <a class="el" href="group__group__threadedmapcache.html">Threaded Map Cache API</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for TSLPooledMapDataLayerManager:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_s_l_pooled_map_data_layer_manager__inherit__graph.png" border="0" usemap="#a_t_s_l_pooled_map_data_layer_manager_inherit__map" alt="Inheritance graph"/></div>
<map name="a_t_s_l_pooled_map_data_layer_manager_inherit__map" id="a_t_s_l_pooled_map_data_layer_manager_inherit__map">
<area shape="rect" title=" " alt="" coords="17,76,200,99"/>
<area shape="rect" href="class_t_s_l_pooled_map_data_layer_manager_base.html" title=" " alt="" coords="5,5,212,28"/>
<area shape="poly" title=" " alt="" coords="111,41,111,76,106,76,106,41"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manager class that allows limited multithreaded use of a single <a class="el" href="class_t_s_l_map_data_layer.html">TSLMapDataLayer</a>. The manager contains a pool of data layers that may be used in different threads. All data layers share a single cache.</p>
<p>An application's thread should request a <a class="el" href="class_t_s_l_pooled_map_data_layer.html">TSLPooledMapDataLayer</a> from the manager when needed, and return it to the manager when the layer is no longer required. Each thread should request a seperate <a class="el" href="class_t_s_l_pooled_map_data_layer.html">TSLPooledMapDataLayer</a>.</p>
<p>Applications using this class must enable threaded rendering support in MapLink by calling <a class="el" href="class_t_s_l_utility_functions.html#ae9cbd3d326982bef61fa26a64b3d1d16">TSLUtilityFunctions::setThreadedOptions()</a> with the argument TSLThreadedOptionsRenderingSupport before creating the manager.</p>
<p>NOTE: Only methods explicity marked as thread safe are thread safe. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4f135845da6563f5c9e402344130b73b" id="r_a4f135845da6563f5c9e402344130b73b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f135845da6563f5c9e402344130b73b">TSLPooledMapDataLayerManager</a> (int count, const char *mapLocation, <a class="el" href="class_t_s_l_path_list.html">TSLPathList</a> *pthList, unsigned int peakSize)</td></tr>
<tr class="separator:a4f135845da6563f5c9e402344130b73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a744b10d0f347d85eb6543e62c1d6ba11" id="r_a744b10d0f347d85eb6543e62c1d6ba11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_s_l_pooled_map_data_layer.html">TSLPooledMapDataLayer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a744b10d0f347d85eb6543e62c1d6ba11">assignLayer</a> ()</td></tr>
<tr class="separator:a744b10d0f347d85eb6543e62c1d6ba11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a306957646ef63d43b2b3e4636a35e337" id="r_a306957646ef63d43b2b3e4636a35e337"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_t_s_l_map_data_layer.html">TSLMapDataLayer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a306957646ef63d43b2b3e4636a35e337">masterLayer</a> () const</td></tr>
<tr class="separator:a306957646ef63d43b2b3e4636a35e337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acede7e5ad2ed1fdc3ec0e4a0750358b2" id="r_acede7e5ad2ed1fdc3ec0e4a0750358b2"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acede7e5ad2ed1fdc3ec0e4a0750358b2">operator new</a> (size_t size) TSL_NO_THROW</td></tr>
<tr class="memdesc:acede7e5ad2ed1fdc3ec0e4a0750358b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocation redirection for API.  <br /></td></tr>
<tr class="separator:acede7e5ad2ed1fdc3ec0e4a0750358b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82c13a1b24aca756c4358089242c1f0a" id="r_a82c13a1b24aca756c4358089242c1f0a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a82c13a1b24aca756c4358089242c1f0a">operator new</a> (size_t size, char *filename, int line)</td></tr>
<tr class="separator:a82c13a1b24aca756c4358089242c1f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_t_s_l_pooled_map_data_layer_manager_base"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_class_t_s_l_pooled_map_data_layer_manager_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_t_s_l_pooled_map_data_layer_manager_base.html">TSLPooledMapDataLayerManagerBase</a></td></tr>
<tr class="memitem:a4963021f432c2549ba035777681fd70c inherit pub_methods_class_t_s_l_pooled_map_data_layer_manager_base" id="r_a4963021f432c2549ba035777681fd70c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_s_l_pooled_map_data_layer_manager_base.html#a4963021f432c2549ba035777681fd70c">destroy</a> ()</td></tr>
<tr class="separator:a4963021f432c2549ba035777681fd70c inherit pub_methods_class_t_s_l_pooled_map_data_layer_manager_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49c094b6a6d922cc9c75ae4d28892a60 inherit pub_methods_class_t_s_l_pooled_map_data_layer_manager_base" id="r_a49c094b6a6d922cc9c75ae4d28892a60"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_s_l_pooled_map_data_layer_manager_base.html#a49c094b6a6d922cc9c75ae4d28892a60">isValid</a> () const</td></tr>
<tr class="separator:a49c094b6a6d922cc9c75ae4d28892a60 inherit pub_methods_class_t_s_l_pooled_map_data_layer_manager_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50aa3c02cbdf49b325aabbdf2089b80c inherit pub_methods_class_t_s_l_pooled_map_data_layer_manager_base" id="r_a50aa3c02cbdf49b325aabbdf2089b80c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_s_l_pooled_map_data_layer_manager_base.html#a50aa3c02cbdf49b325aabbdf2089b80c">returnLayer</a> (<a class="el" href="class_t_s_l_pooled_map_data_layer.html">TSLPooledMapDataLayer</a> *layer)</td></tr>
<tr class="separator:a50aa3c02cbdf49b325aabbdf2089b80c inherit pub_methods_class_t_s_l_pooled_map_data_layer_manager_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_class_t_s_l_pooled_map_data_layer_manager_base"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_methods_class_t_s_l_pooled_map_data_layer_manager_base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_t_s_l_pooled_map_data_layer_manager_base.html">TSLPooledMapDataLayerManagerBase</a></td></tr>
<tr class="memitem:a01d6f22881c710541e601c83351a1947 inherit pro_methods_class_t_s_l_pooled_map_data_layer_manager_base" id="r_a01d6f22881c710541e601c83351a1947"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_s_l_pooled_map_data_layer_manager_base.html#a01d6f22881c710541e601c83351a1947">TSLPooledMapDataLayerManagerBase</a> ()</td></tr>
<tr class="separator:a01d6f22881c710541e601c83351a1947 inherit pro_methods_class_t_s_l_pooled_map_data_layer_manager_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d4dab0266b775022dbc6c346c3c1d54 inherit pro_methods_class_t_s_l_pooled_map_data_layer_manager_base" id="r_a9d4dab0266b775022dbc6c346c3c1d54"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_s_l_pooled_map_data_layer_manager_base.html#a9d4dab0266b775022dbc6c346c3c1d54">~TSLPooledMapDataLayerManagerBase</a> ()</td></tr>
<tr class="separator:a9d4dab0266b775022dbc6c346c3c1d54 inherit pro_methods_class_t_s_l_pooled_map_data_layer_manager_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4f135845da6563f5c9e402344130b73b" name="a4f135845da6563f5c9e402344130b73b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f135845da6563f5c9e402344130b73b">&#9670;&#160;</a></span>TSLPooledMapDataLayerManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSLPooledMapDataLayerManager::TSLPooledMapDataLayerManager </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>mapLocation</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_s_l_path_list.html">TSLPathList</a> *</td>          <td class="paramname"><span class="paramname"><em>pthList</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>peakSize</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs a new pooled layer manager for the given map.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>Total number of threaded data layers to create in the pool. This number may not be subsequently changed.</td></tr>
    <tr><td class="paramname">mapLocation</td><td>Path to the map to be used.</td></tr>
    <tr><td class="paramname">pthList</td><td>Optional pathlist to use in conjunction with the <a class="el" href="class_t_s_l_map_data_layer.html">TSLMapDataLayer</a>.</td></tr>
    <tr><td class="paramname">peakSize</td><td>Nominal maximum size of the shared data layer cache in kilobytes. The manager will attempt to keep memory usage to within this value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a744b10d0f347d85eb6543e62c1d6ba11" name="a744b10d0f347d85eb6543e62c1d6ba11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a744b10d0f347d85eb6543e62c1d6ba11">&#9670;&#160;</a></span>assignLayer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_s_l_pooled_map_data_layer.html">TSLPooledMapDataLayer</a> * TSLPooledMapDataLayerManager::assignLayer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assigns a threaded map data layer from the pool of available layers. Returns NULL if no layer is available. These layers are not in themselves thread safe, you should request one layer from the manager per thread.</p>
<p>The threaded map data layer must be returned to the manager through the returnLayer method on <a class="el" href="class_t_s_l_pooled_map_data_layer_manager_base.html">TSLPooledMapDataLayerManagerBase</a> once it is no longer required.</p>
<p>This method is thread-safe. </p>

</div>
</div>
<a id="a306957646ef63d43b2b3e4636a35e337" name="a306957646ef63d43b2b3e4636a35e337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a306957646ef63d43b2b3e4636a35e337">&#9670;&#160;</a></span>masterLayer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_t_s_l_map_data_layer.html">TSLMapDataLayer</a> * TSLPooledMapDataLayerManager::masterLayer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the master map data layer that the threaded layers are impersonating.</p>
<p>The returned layer must not be used in a multi-threaded context under any circumstances. </p>

</div>
</div>
<a id="acede7e5ad2ed1fdc3ec0e4a0750358b2" name="acede7e5ad2ed1fdc3ec0e4a0750358b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acede7e5ad2ed1fdc3ec0e4a0750358b2">&#9670;&#160;</a></span>operator new() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * TSLPooledMapDataLayerManager::operator new </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocation redirection for API. </p>

</div>
</div>
<a id="a82c13a1b24aca756c4358089242c1f0a" name="a82c13a1b24aca756c4358089242c1f0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82c13a1b24aca756c4358089242c1f0a">&#9670;&#160;</a></span>operator new() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * TSLPooledMapDataLayerManager::operator new </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>line</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When included in an MFC applicaton in debug mode, the debug new expects this to be here. Override it and return the same as the normal one. The library must include it when compiled in release mode, since the users application may be in debug mode. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_t_s_l_pooled_map_data_layer_manager.html">TSLPooledMapDataLayerManager</a></li>
    <li class="footer"><a href="https://envitia.github.io/maplink-docs/">MapLink Pro</a> 11.2 | Documentation created Wed Jul 23 2025 17:43:10 | Generated with <a href="http://www.doxygen.org/index.html">Doxygen 1.13.2</a> | <a href="mailto:support@envitia.com">Contact Us</a> | &copy; 2025 <a href="http://www.envitia.com">Envitia Ltd.</a></li>
  </ul>
</div>
</body>
</html>
