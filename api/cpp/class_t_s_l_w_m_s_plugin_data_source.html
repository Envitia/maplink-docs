<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MapLink Pro: TSLWMSPluginDataSource Class Reference</title>
<link rel="icon" href="MapLink Pro 11 Logo Circle No Shadow FX New V1.1.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="envitia.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="MapLink Pro 11 Logo New V1.1.png"/></td>
  <td id="projectalign">
   <div id="projectname">MapLink Pro<span id="projectnumber">&#160;11.2</span>
   </div>
   <div id="projectbrief">Envitia MapLink Pro: The Ultimate Mapping Application Toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>MapLink&#160;Pro</span></a></li>
      <li><a href="topics.html"><span>MapLink&#160;Pro&#160;C++&#160;API</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_t_s_l_w_m_s_plugin_data_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_t_s_l_w_m_s_plugin_data_source-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">TSLWMSPluginDataSource Class Reference<span class="mlabels"><span class="mlabel abstract">abstract</span></span><div class="ingroups"><a class="el" href="group__group__ogc.html">MapLink OGC APIs</a> &raquo; <a class="el" href="group__group__ogc__gateway.html">MapLink Gateway (WMS &amp; WPS)</a> &raquo; <a class="el" href="group__group__ogc__wms.html">MapLink WMS Plugin API</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This abstract class should be derived from to create a data source that will be provided to the WMS. Implementations must implement the getLayers and getMap methods and may optionally override the getFeatureInfo method if required.</p>
<p>Refer to the MapLink Developer's Guide for information on how to implement a WMS plug-in. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa3261e614088783d44300f654641f224" id="r_aa3261e614088783d44300f654641f224"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_t_s_l_w_m_s_available_layer.html">TSLWMSAvailableLayer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa3261e614088783d44300f654641f224">getLayers</a> (<a class="el" href="class_t_s_l_w_m_s_register.html">TSLWMSRegister</a> *wmsRegister, const <a class="el" href="class_t_s_l_w_m_s_request.html">TSLWMSRequest</a> *request)=0</td></tr>
<tr class="separator:aa3261e614088783d44300f654641f224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aff61d921e4642a9d93c72cb23555b9" id="r_a5aff61d921e4642a9d93c72cb23555b9"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5aff61d921e4642a9d93c72cb23555b9">getMap</a> (<a class="el" href="class_t_s_l_w_m_s_get_map_response.html">TSLWMSGetMapResponse</a> *response, const <a class="el" href="class_t_s_l_w_m_s_get_map_request.html">TSLWMSGetMapRequest</a> *request)=0</td></tr>
<tr class="separator:a5aff61d921e4642a9d93c72cb23555b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c9a72838ccbb6dd4e9bee911bbf8ea9" id="r_a9c9a72838ccbb6dd4e9bee911bbf8ea9"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c9a72838ccbb6dd4e9bee911bbf8ea9">getFeatureInfo</a> (const <a class="el" href="class_t_s_l_w_m_s_get_feature_info_request.html">TSLWMSGetFeatureInfoRequest</a> *request, <a class="el" href="class_t_s_l_w_m_s_get_feature_info_response.html">TSLWMSGetFeatureInfoResponse</a> *response)</td></tr>
<tr class="separator:a9c9a72838ccbb6dd4e9bee911bbf8ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:ae15e4e01f8cfce62ddb0206b3565a98f" id="r_ae15e4e01f8cfce62ddb0206b3565a98f"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae15e4e01f8cfce62ddb0206b3565a98f">~TSLWMSPluginDataSource</a> ()=0</td></tr>
<tr class="separator:ae15e4e01f8cfce62ddb0206b3565a98f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae15e4e01f8cfce62ddb0206b3565a98f" name="ae15e4e01f8cfce62ddb0206b3565a98f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae15e4e01f8cfce62ddb0206b3565a98f">&#9670;&#160;</a></span>~TSLWMSPluginDataSource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TSLWMSPluginDataSource::~TSLWMSPluginDataSource </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The destructor </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9c9a72838ccbb6dd4e9bee911bbf8ea9" name="a9c9a72838ccbb6dd4e9bee911bbf8ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c9a72838ccbb6dd4e9bee911bbf8ea9">&#9670;&#160;</a></span>getFeatureInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool TSLWMSPluginDataSource::getFeatureInfo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_s_l_w_m_s_get_feature_info_request.html">TSLWMSGetFeatureInfoRequest</a> *</td>          <td class="paramname"><span class="paramname"><em>request</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_s_l_w_m_s_get_feature_info_response.html">TSLWMSGetFeatureInfoResponse</a> *</td>          <td class="paramname"><span class="paramname"><em>response</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method should be used to implement the GetFeatureInfo capability of the plugin. This method need not be overridden if any of the layers returned during the getLayers call does not have its queryable flag set to true.</p>
<p>To support the GetFeatureInfo request two actions must be completed; The queryable flag of one or more of the layers returned from the getLayers method must be set to true and a format of the GetFeatureInfo response must be declared. To declare a format, use the declareGetFeatureFormat method on the <a class="el" href="class_t_s_l_w_m_s_register.html">TSLWMSRegister</a> class passed to the getLayers method.</p>
<p>When a GetFeatureInfo request is made to the WMS, once parsed, the request will be passed to the loaded plugins to provide the data to return to the user.</p>
<p>Unlike for GetMap requests, only a single data source can be used to reply to a GetFeatureInfo request. If a request spans multiple data sources an exception will be returned. Querying multiple layers served by a single data source is supported however.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>An in-memory representation of the request.</td></tr>
    <tr><td class="paramname">response</td><td>Should be populated with the data source's response to the request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Should return true on success, false otherwise. It is preferable that rather than returning false, a <a class="el" href="class_t_s_l_w_m_s_exception_report.html">TSLWMSExceptionReport</a> object is created, populated and then <a class="el" href="class_t_s_l_w_m_s_exception_report.html#a2c74f646b726423445dfb90d6a1f1d68">TSLWMSExceptionReport::throwException</a> called on it. This allows the reason for the failure to be described to the requester. </dd></dl>

</div>
</div>
<a id="aa3261e614088783d44300f654641f224" name="aa3261e614088783d44300f654641f224"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3261e614088783d44300f654641f224">&#9670;&#160;</a></span>getLayers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_t_s_l_w_m_s_available_layer.html">TSLWMSAvailableLayer</a> * TSLWMSPluginDataSource::getLayers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_s_l_w_m_s_register.html">TSLWMSRegister</a> *</td>          <td class="paramname"><span class="paramname"><em>wmsRegister</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_s_l_w_m_s_request.html">TSLWMSRequest</a> *</td>          <td class="paramname"><span class="paramname"><em>request</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Once a plugin has been loaded by the MapLink WMS, it will be queried for the layers that is serves. These will be advertised as a sublayer of the unnamed root layer of the WMS via its capabilities.</p>
<p>If the plugin also supports GetFeatureInfo requests then it should register the output formats that it supports via the wmsRegister object passed.</p>
<p>If the plugin requires that the service capabilities are generated dynamically it should turn on support for this feature via the wmsRegister object passed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wmsRegister</td><td>This register should be used to declare which getFeatureInfo response types are supported by this data source.</td></tr>
    <tr><td class="paramname">request</td><td>This will normally be null. It will only be non-null for plugins that have enabled the dynamic capabilities support via the wmsRegister during certain subsequent calls to the function. See the documentation for the <a class="el" href="class_t_s_l_w_m_s_register.html#aea90614a99a9165e45c520fb193b0482">TSLWMSRegister::dynamicCapabilities</a> method for details.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The root layer, of possibly a tree of layers, that this instance of the plug-in serves. Once returned, this tree of layers becomes owned by the WMS, which will delete it. The user should not attempt to use theses layers again as the WMS may delete them at any point. </dd></dl>

</div>
</div>
<a id="a5aff61d921e4642a9d93c72cb23555b9" name="a5aff61d921e4642a9d93c72cb23555b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aff61d921e4642a9d93c72cb23555b9">&#9670;&#160;</a></span>getMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool TSLWMSPluginDataSource::getMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_s_l_w_m_s_get_map_response.html">TSLWMSGetMapResponse</a> *</td>          <td class="paramname"><span class="paramname"><em>response</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_s_l_w_m_s_get_map_request.html">TSLWMSGetMapRequest</a> *</td>          <td class="paramname"><span class="paramname"><em>request</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>When a GetMap request is made to the WMS, once parsed, the request will be passed to the loaded plugins to provide the data to return to the user. The request passed to the plugin will contain a subset of the user requested layers. If a plugin data source advertises that it serves multiple layers, then the request will contain multiple request layers if they are both served by that data source and if they were requested in sequence.</p>
<p>For instance:</p>
<p>If a plugin data source serves named layers A and B, then if a user requests <code>layers=A,B</code> a single getMap request will be made to the plugin for both layers. If a user were to request <code>layers=A,C,B</code> then two separate getMap requests will be made; first for A then after C has been served by another source, B will be requested.</p>
<p>In this example, layer C could well be served by the same plugin but via a different instance of the class.</p>
<p>The derivative class of <a class="el" href="class_t_s_l_w_m_s_get_map_response.html">TSLWMSGetMapResponse</a> passed to this method via the response argument, is dependent upon the request format and the platform the WMS is running upon. Currently only raster responses are available, but future releases of the WMS libraries may support other formats. To find the type of response object passed use <a class="el" href="class_t_s_l_w_m_s_get_map_raster_response.html#ace9d552ad4f5c59c1dbe95e7242cf715">TSLWMSGetMapRasterResponse::isRasterResponse</a>, <a class="el" href="class_t_s_l_w_m_s_get_map_raster_response_n_t.html#a309b51daa1e3d7118f62fe8e4f1a024a">TSLWMSGetMapRasterResponseNT::isRasterResponseNT</a> and <a class="el" href="class_t_s_l_w_m_s_get_map_raster_response_x11.html#af3599747a01daac225f18517dfa9703b">TSLWMSGetMapRasterResponseX11::isRasterResponseX11</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>A subset of the user request specific for this data source </td></tr>
    <tr><td class="paramname">response</td><td>Should be populated with the data sources response to the request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Should return true on success, false otherwise. It is preferable that rather than returning false, a <a class="el" href="class_t_s_l_w_m_s_exception_report.html">TSLWMSExceptionReport</a> object is created, populated and then <a class="el" href="class_t_s_l_w_m_s_exception_report.html#a2c74f646b726423445dfb90d6a1f1d68">TSLWMSExceptionReport::throwException</a> called on it. This allows the reason for the failure to be described to the requester. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_t_s_l_w_m_s_plugin_data_source.html">TSLWMSPluginDataSource</a></li>
    <li class="footer"><a href="https://envitia.github.io/maplink-docs/">MapLink Pro</a> 11.2 | <a href="mailto:support@envitia.com">Contact Us</a> | &copy; 2025 <a href="http://www.envitia.com">Envitia Ltd.</a></li>
  </ul>
</div>
</body>
</html>
